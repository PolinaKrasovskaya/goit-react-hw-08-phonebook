{"version":3,"file":"static/js/135.cc227f42.chunk.js","mappings":"0SAGO,SAAeA,IAAtB,4CAAO,OAAP,oBAAO,oGACkBC,IAAAA,IAAU,YAD5B,cACCC,EADD,yBAEEA,EAASC,MAFX,kEAKA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA+BC,GAA/B,uFACkBJ,IAAAA,IAAA,mBAAsBI,EAAtB,kBADlB,cACCH,EADD,yBAEEA,EAASC,MAFX,kEAKA,SAAeG,IAAtB,4CAAO,OAAP,oBAAO,oGACkBL,IAAAA,IAAU,UAD5B,cACCC,EADD,yBAEEA,EAASC,MAFX,kEAKA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAA6BC,GAA7B,uFACkBP,IAAAA,IAAA,iBAAoBO,EAApB,oBADlB,cACCN,EADD,yBAEEA,EAASC,MAFX,kEAjBPF,IAAAA,SAAAA,QAAyB,yB,uICEZQ,EAAgB,WAC3B,IAAMC,ECAsB,WAC5B,IAAQC,GAAaC,EAAAA,EAAAA,MAAbD,SACR,GAA4BE,EAAAA,EAAAA,UAAS,MAArC,eAAOH,EAAP,KAAeI,EAAf,KAMA,OAJAC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,GAA6BL,GAAUM,KAAKH,KAC3C,CAACH,IAEGD,EDRQQ,GACf,OACE,iCACIR,IAAU,sFACXA,IACC,iCACE,wBAAKA,EAAOS,QACZ,wBACGT,EAAOU,MAAMC,KAAI,SAAAC,GAAI,OACpB,yBACE,SAAC,KAAD,CAAMC,GAAE,iBAAYD,EAAKjB,IAAzB,SAAgCiB,EAAKE,SAD9BF,EAAKjB","sources":["services/bookshelf-api.js","views/AuthorSubView.jsx","hooks/useFetchAuthor.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'http://localhost:4040';\n\nexport async function fetchAuthors() {\n  const response = await axios.get('/authors');\n  return response.data;\n}\n\nexport async function fetchAuthorById(id) {\n  const response = await axios.get(`/authors/${id}?_embed=books`);\n  return response.data;\n}\n\nexport async function fetchBooks() {\n  const response = await axios.get('/books');\n  return response.data;\n}\n\nexport async function fetchBookById(bookId) {\n  const response = await axios.get(`/books/${bookId}?_expand=author`);\n  return response.data;\n}\n","import { Link } from 'react-router-dom';\nimport { useFetchAuthor } from 'hooks/useFetchAuthor';\n\nexport const AuthorSubView = () => {\n  const author = useFetchAuthor();\n  return (\n    <>\n      {!author && <h2>Загружаем...</h2>}\n      {author && (\n        <>\n          <h2>{author.name}</h2>\n          <ul>\n            {author.books.map(book => (\n              <li key={book.id}>\n                <Link to={`/books/${book.id}`}>{book.title}</Link>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n    </>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport * as bookShelfAPI from 'services/bookshelf-api';\n\nexport const useFetchAuthor = () => {\n  const { authorId } = useParams();\n  const [author, setAuthor] = useState(null);\n\n  useEffect(() => {\n    bookShelfAPI.fetchAuthorById(authorId).then(setAuthor);\n  }, [authorId]);\n\n  return author;\n};\n"],"names":["fetchAuthors","axios","response","data","fetchAuthorById","id","fetchBooks","fetchBookById","bookId","AuthorSubView","author","authorId","useParams","useState","setAuthor","useEffect","bookShelfAPI","then","useFetchAuthor","name","books","map","book","to","title"],"sourceRoot":""}